{
  "name": "polo",
  "version": "1.4.0",
  "repository": "https://github.com/wufe/polo",
  "author": "Simone Bembi <bembi@archiproducts.com>",
  "license": "MIT",
  "private": true,
  "workspaces": {
    "packages": [
      "packages/*"
    ],
    "nohoist": [
      "**/tailwindcss",
      "**/tailwind-nord",
      "**/@tailwindcss/**"
    ]
  },
  "scripts": {
    "start": "cross-env POLO_CWD=\"$(pwd)\" GO_ENV=development go run packages/server/cmd/server/main.go",
    "build:docker": "docker build -t polo:local -f ./docker/Dockerfile .",
    "build:client": "cross-env NODE_ENV=development webpack --config webpack.config.js",
    "build:client:prod": "cross-env NODE_ENV=production webpack --config webpack.config.js",
    "build:prod": "run-s clean build:client:prod build:server:prod",
    "build:server:prod": "run-s build:server:prod:restore build:server:prod:statik build:server:prod:application",
    "build:server:prod:restore": "yarn workspace @polo/server go:restore",
    "build:server:prod:statik": "statik -p=services -dest=./packages/server/pkg -src=./public",
    "build:server:prod:application": "go build -o dist/polo packages/server/cmd/server/main.go",
    "clean": "run-p clean:root clean:server",
    "clean:root": "rimraf dist public release",
    "clean:server": "yarn workspace @polo/server clean",
    "serve": "cross-env TAILWIND_MODE=watch node --max-old-space-size=8192 node_modules/webpack/bin/webpack.js serve",
    "build:release": "run-s clean build:client:prod build:server:prod:restore build:server:prod:statik build:release:windows build:release:macos build:release:linux",
    "build:release:windows": "yarn workspace @polo/server build:release:windows",
    "build:release:macos": "yarn workspace @polo/server build:release:macos",
    "build:release:linux": "yarn workspace @polo/server build:release:linux",
    "test": "cross-env GO_ENV=development go test -v ./cmd/tests/...",
    "test:file": "cross-env GO_ENV=development go test -v ",
    "test:watch": "cross-env GO_ENV=development gow test -v ./cmd/tests/...",
    "test:trace": "cross-env GO_ENV=development POLO_DIAGNOSTICS=true go test -v ./cmd/tests/...",
    "test:trace:watch": "cross-env GO_ENV=development POLO_DIAGNOSTICS=true gow test -v ./cmd/tests/...",
    "test:prod": "cross-env GO_ENV=development go test ./cmd/tests/...",
    "test:prod:watch": "cross-env GO_ENV=development gow test ./cmd/tests/..."
  },
  "devDependencies": {
    "cross-env": "^7.0.3",
    "lerna": "^4.0.0",
    "webpack": "^5.17.0",
    "webpack-cli": "^4.4.0",
    "webpack-dev-server": "^3.11.2"
  }
}
